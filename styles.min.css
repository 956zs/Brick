@media print{@page{size:A4;margin:2.5cm}body{margin:0;padding:0}.page-break{page-break-before:always}.no-print{display:none}}*{box-sizing:border-box}:root{--bg-color:#FAF7F5;--paper-bg:#FFFFFF;--text-color:#4A3A3A;--text-secondary:#7A6B6B;--text-muted:#7A6B6B;--text-hint:#A89898;--border-color:#E8C5C5;--abstract-bg:#F5E8E8;--equation-bg:linear-gradient(135deg, #E8D5D0 0%, #E8C5C5 100%);--highlight-bg:#E8C5C5;--highlight-hover:#D5C5D5;--btn-bg:#C5B8C8;--btn-hover:#B88B9B;--counter-bg:#FFFFFF;--shadow-color:rgba(232, 197, 197, 0.15);--progress-gradient:linear-gradient(90deg, #E8C5C5, #D5C5D5);--link-color:#B88B9B}[data-theme=dark]{--bg-color:#1F1818;--paper-bg:#2A2020;--text-color:#EBE0E0;--text-secondary:#C8B8B8;--text-muted:#C8B8B8;--text-hint:#B8A8A8;--border-color:#B89898;--abstract-bg:#352525;--equation-bg:linear-gradient(135deg, #2A2020 0%, #2F1F25 100%);--highlight-bg:#B89898;--highlight-hover:#C8A8B8;--btn-bg:#C8A8B8;--btn-hover:#B89898;--counter-bg:#2A2020;--shadow-color:rgba(0, 0, 0, 0.4);--progress-gradient:linear-gradient(90deg, #B89898, #A898A8);--link-color:#C8A0B0}body{font-family:"Times New Roman",SimSun,serif;line-height:1.8;max-width:960px;margin:0 auto;padding:20mm;background:var(--bg-color);color:var(--text-color);transition:background .3s,color .3s}.paper{background:var(--paper-bg);padding:2.5cm;box-shadow:0 0 10px var(--shadow-color);margin-bottom:20px;transition:background .3s,box-shadow .3s}.reading-stats{text-align:center;padding:15px 20px;margin-bottom:25px;background:var(--abstract-bg);border-radius:8px;border:1px dashed var(--border-color);font-size:10pt;color:var(--text-secondary);opacity:0;animation:.6s .1s forwards fadeInDown}.stats-row{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:8px}.stats-extra{margin-top:10px;padding-top:10px;border-top:1px dotted var(--border-color)}.stat-item{display:inline-flex;align-items:center;gap:4px}.stat-divider{color:var(--text-hint);margin:0 5px}.stat-absurd{color:var(--btn-hover);font-style:italic}.stat-small{font-size:9pt;color:var(--text-hint);font-style:italic}@media screen and (max-width:768px){.reading-stats{padding:12px 15px;font-size:9pt}.stat-divider{display:none}.stats-row{flex-direction:column;gap:5px}.stat-small{font-size:8pt}}.title{text-align:center;font-size:20pt;font-weight:700;margin-bottom:30px;line-height:1.5;opacity:0;animation:.8s forwards fadeInDown}.subtitle{text-align:center;font-size:14pt;margin-bottom:10px;font-style:italic;color:var(--text-secondary);opacity:0;animation:.8s .2s forwards fadeInDown}.abstract{margin:40px 0;padding:20px;background:var(--abstract-bg);border-left:4px solid var(--border-color);opacity:0;animation:.6s .4s forwards fadeInLeft;transition:background .3s,border-color .3s}.abstract-title{font-weight:700;font-size:12pt;margin-bottom:10px}.keywords{margin-top:15px;font-size:10pt}h1{font-size:14pt;font-weight:700;margin-top:30px;margin-bottom:15px;border-bottom:2px solid var(--border-color);padding-bottom:5px;opacity:0;transform:translateX(-20px);transition:.5s}h1.visible{opacity:1;transform:translateX(0)}h2{font-size:12pt;font-weight:700;margin-top:20px;margin-bottom:10px}h3{font-size:11pt;font-weight:700;margin-top:15px;margin-bottom:8px;font-style:italic}p{text-align:justify;margin-bottom:12px;font-size:11pt}.equation{text-align:center;margin:20px 0;font-style:italic;font-size:11pt;padding:15px;background:var(--equation-bg);border-radius:8px;transition:transform .3s,box-shadow .3s,background .3s}.equation:hover{transform:scale(1.02);box-shadow:0 4px 15px var(--shadow-color)}.footnote{font-size:9pt;color:var(--text-hint);border-top:1px solid var(--text-hint);margin-top:30px;padding-top:10px}.reference{font-size:10pt;margin-left:20px;text-indent:-20px;margin-bottom:8px;transition:transform .3s}.reference:hover{transform:translateX(10px);color:var(--link-color)}.button-container{text-align:center;margin:20px 0;padding:20px}.download-btn{background:var(--btn-bg);color:#fff;border:none;padding:15px 40px;font-size:16px;cursor:pointer;border-radius:5px;box-shadow:0 4px 6px var(--shadow-color);transition:.3s}.download-btn:hover{background:var(--btn-hover);transform:translateY(-2px);box-shadow:0 6px 12px var(--shadow-color)}.joke-highlight{background:var(--highlight-bg);padding:2px 6px;border-radius:3px;transition:background .3s;cursor:pointer;color:#4a3a3a}[data-theme=dark] .joke-highlight{color:#1f1818}.joke-highlight:hover{background:var(--highlight-hover)}.joke-highlight .roast-text{background:linear-gradient(135deg,#b8d8c8 0,#98c8b5 100%);border-bottom-color:#6aa88a}.joke-highlight .roast-text:hover{background:#6aa88a}.roast-text .joke-highlight{background:rgba(232,197,197,.7);padding:1px 4px}[data-theme=dark] .joke-highlight .roast-text{background:linear-gradient(135deg,#253530 0,#304540 100%)}[data-theme=dark] .roast-text .joke-highlight{background:rgba(184,152,152,.5);color:#ebe0e0}.roast-text{position:relative;background:linear-gradient(135deg,#c5e8d5 0,#a8d8c5 100%);padding:2px 6px;border-radius:3px;cursor:help;color:#3a4a3a;border-bottom:2px dashed #7ab89a;transition:.3s}[data-theme=dark] .roast-text{background:linear-gradient(135deg,#2a4035 0,#354a3f 100%);color:#c5e8d5;border-bottom-color:#7ab89a}.roast-text:hover{background:#7ab89a;color:#fff}[data-theme=dark] .roast-text:hover{background:#5a9878;color:#fff}.roast-tooltip{position:fixed;background:var(--text-color);color:var(--paper-bg);padding:10px 15px;border-radius:8px;font-size:12px;font-style:normal;font-weight:400;line-height:1.4;white-space:nowrap;text-align:center;z-index:10000;box-shadow:0 4px 15px var(--shadow-color);pointer-events:none;opacity:0;transform:scale(.8);transition:opacity .25s,transform .25s cubic-bezier(.68, -.55, .265, 1.55);max-width:calc(100vw - 24px)}.roast-tooltip.show{opacity:1;transform:scale(1)}.roast-tooltip::after{content:'';position:absolute;top:100%;left:var(--arrow-left,50%);transform:translateX(-50%);border:8px solid transparent;border-top-color:var(--text-color)}.sarcasm{font-style:italic;color:var(--text-muted);position:relative;cursor:help}.sarcasm::after{content:attr(data-emoji);opacity:0;position:absolute;right:-25px;transition:opacity .3s,transform .3s;transform:scale(.5)}.sarcasm:hover::after{opacity:1;transform:scale(1)}@keyframes fadeInDown{from{opacity:0;transform:translateY(-30px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInLeft{from{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}@keyframes bounce{0%,100%{transform:scale(1)}25%{transform:scale(1.1)}50%{transform:scale(.95)}75%{transform:scale(1.05)}}@keyframes floatUp{0%{transform:translateY(0) rotate(0);opacity:1}100%{transform:translateY(-100vh) rotate(360deg);opacity:0}}.falling-brick{position:fixed;top:-60px;width:50px;height:auto;z-index:10000;pointer-events:none;animation:1.5s cubic-bezier(.55,0,1,.45) forwards brickFall;filter:drop-shadow(2px 4px 6px rgba(0, 0, 0, .3))}@keyframes brickFall{0%{transform:translateY(0) rotate(0);opacity:1}70%{opacity:1}100%{transform:translateY(calc(100vh + 100px)) rotate(720deg);opacity:.8}}.brick-particle{position:fixed;bottom:20px;font-size:20px;z-index:10001;pointer-events:none;animation:.8s ease-out forwards particleExplode}@keyframes particleExplode{0%{transform:translate(0,0) scale(1);opacity:1}100%{transform:translate(calc(cos(var(--angle)) * var(--distance)),calc(sin(var(--angle)) * var(--distance) - 50px)) scale(0);opacity:0}}.screen-shake{animation:.3s ease-in-out shake}@keyframes shake{0%,100%{transform:translateX(0)}20%{transform:translateX(-5px) translateY(2px)}40%{transform:translateX(5px) translateY(-2px)}60%{transform:translateX(-3px) translateY(1px)}80%{transform:translateX(3px) translateY(-1px)}}.ambient-brick{position:fixed;right:-50px;z-index:1;pointer-events:none;animation:linear forwards floatAcross}@keyframes floatAcross{0%{transform:translateX(0) rotate(0)}100%{transform:translateX(calc(-100vw - 100px)) rotate(-360deg)}}.zero-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:10001;animation:.3s fadeIn}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.zero-message{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:var(--paper-bg);padding:40px 60px;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.3);z-index:10002;text-align:center;animation:.5s cubic-bezier(.68,-.55,.265,1.55) popIn}.zero-title{font-size:36px;font-weight:700;margin-bottom:15px;color:var(--text-color)}.zero-text{font-size:18px;color:var(--text-secondary);margin-bottom:8px}.zero-subtext{font-size:14px;color:var(--text-hint);margin-bottom:25px}.zero-btn{background:var(--btn-bg);color:#fff;border:none;padding:12px 30px;font-size:16px;border-radius:25px;cursor:pointer;transition:.3s}.zero-btn:hover{background:var(--btn-hover);transform:scale(1.05)}.zero-family{background:var(--abstract-bg);border-radius:12px;padding:20px;margin:20px 0;text-align:left;border-left:4px solid var(--border-color)}.family-title{font-size:14px;font-weight:700;text-align:center;margin-bottom:15px;color:var(--text-color)}.family-quote{font-style:italic;font-size:13px;color:var(--text-secondary);margin:8px 0 4px;padding-left:10px;border-left:2px solid var(--btn-bg)}.family-member{font-size:11px;color:var(--text-hint);text-align:right;margin-bottom:10px}@keyframes popIn{0%{transform:translate(-50%,-50%) scale(0);opacity:0}100%{transform:translate(-50%,-50%) scale(1);opacity:1}}@media screen and (max-width:768px){.roast-tooltip{white-space:normal;max-width:calc(100vw - 24px)}.zero-message{padding:25px 20px;width:90vw;max-width:350px;max-height:85vh;overflow-y:auto}.zero-title{font-size:24px;margin-bottom:10px}.zero-text{font-size:14px}.zero-subtext{font-size:12px;margin-bottom:15px}.zero-family{padding:15px;margin:15px 0}.family-title{font-size:12px;margin-bottom:10px}.family-quote{font-size:11px;padding-left:8px}.family-member{font-size:10px;margin-bottom:8px}.zero-btn{padding:10px 25px;font-size:14px;-webkit-tap-highlight-color:transparent}}.back-to-top,.brick-counter,.lightbox-close,.theme-toggle,.toc-toggle,.zero-btn,button{-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;user-select:none}@keyframes rainbow{0%{filter:hue-rotate(0deg)}100%{filter:hue-rotate(360deg)}}.back-to-top{position:fixed;bottom:30px;right:30px;width:50px;height:50px;background:var(--btn-bg);color:#fff;border:none;border-radius:50%;cursor:pointer;opacity:0;visibility:hidden;transition:.3s;font-size:20px;z-index:1000;box-shadow:0 4px 15px var(--shadow-color)}.back-to-top.show{opacity:1;visibility:visible}.back-to-top:hover{background:var(--btn-hover);transform:translateY(-5px)}.progress-bar{position:fixed;top:0;left:0;height:4px;background:var(--progress-gradient);width:0%;z-index:1001;transition:width .1s}.brick-counter{position:fixed;top:20px;right:20px;background:var(--counter-bg);padding:15px 20px;border-radius:10px;box-shadow:0 4px 20px rgba(0,0,0,.15);z-index:1000;font-family:Arial,sans-serif;opacity:0;transform:translateX(100px);transition:.5s;user-select:none;-webkit-user-select:none;cursor:pointer}[data-theme=dark] .brick-counter{box-shadow:0 4px 20px rgba(0,0,0,.4)}.brick-counter.show{opacity:1;transform:translateX(0)}.brick-counter .count{font-size:32px;font-weight:700;color:var(--btn-bg);display:block;text-align:center;transition:transform .1s,color .3s}.brick-counter .label{font-size:12px;color:var(--text-hint);text-align:center}.theme-toggle{position:fixed;top:20px;left:20px;width:45px;height:45px;background:var(--btn-bg);color:#fff;border:none;border-radius:50%;cursor:pointer;font-size:20px;z-index:1000;box-shadow:0 4px 15px var(--shadow-color);transition:.3s;display:flex;align-items:center;justify-content:center}.theme-toggle:hover{background:var(--btn-hover);transform:scale(1.1)}@media screen and (max-width:768px){body{padding:10px;max-width:100%}.paper{padding:20px;border-radius:0;box-shadow:none}.title{font-size:16pt;line-height:1.4;padding-top:60px}.subtitle{font-size:11pt}.abstract{padding:15px;margin:20px 0}h1{font-size:13pt}h2{font-size:11pt}h3{font-size:10pt}p{font-size:10pt;text-align:left}.equation{font-size:10pt;padding:10px;overflow-x:auto}.reference{font-size:9pt;margin-left:15px;text-indent:-15px}.brick-counter{top:10px;right:10px;padding:10px 15px}.brick-counter .count{font-size:24px}.back-to-top{bottom:20px;right:20px;width:45px;height:45px;font-size:18px}.sarcasm::after{display:none}}@media screen and (max-width:480px){body{padding:5px}.paper{padding:15px}.title{font-size:14pt;padding-top:70px}.subtitle{font-size:10pt}.abstract{padding:12px;border-left-width:3px}p{font-size:9.5pt;line-height:1.7}.keywords{font-size:9pt}.brick-counter{padding:8px 12px}.brick-counter .count{font-size:20px}.brick-counter .label{font-size:10px}}@media (hover:none) and (pointer:coarse){.joke-highlight:hover{transform:none}.equation:hover{transform:none;box-shadow:none}.reference:hover{transform:none}.joke-highlight:active{background:var(--highlight-hover)}}.loading{text-align:center;padding:60px 20px;color:var(--text-hint);font-size:14pt}ol,ul{margin:15px 0;padding-left:30px}li{margin-bottom:8px;font-size:11pt}.abstract .keywords{margin-top:15px;font-size:10pt}.md-table{width:100%;border-collapse:collapse;margin:20px 0;font-size:10pt;background:var(--paper-bg);box-shadow:0 2px 8px var(--shadow-color);border-radius:8px;overflow:hidden}.md-table td,.md-table th{padding:12px 15px;text-align:left;border-bottom:1px solid var(--border-color)}.md-table th{background:var(--abstract-bg);font-weight:700;color:var(--text-color);border-bottom:2px solid var(--border-color)}.md-table tbody tr:hover{background:var(--abstract-bg);transition:background .2s}.md-table tbody tr:last-child td{border-bottom:none}.code-block{background:var(--abstract-bg);border:1px solid var(--border-color);border-radius:8px;padding:15px 20px;margin:20px 0;overflow-x:auto;font-family:Consolas,Monaco,'Courier New',monospace;font-size:10pt;line-height:1.6;white-space:pre-wrap;word-wrap:break-word;color:var(--text-color)}.code-block code{background:0 0;padding:0;font-family:inherit}.inline-code{background:var(--abstract-bg);padding:2px 6px;border-radius:4px;font-family:Consolas,Monaco,'Courier New',monospace;font-size:.9em;color:var(--text-color);border:1px solid var(--border-color)}.quote-block{background:var(--abstract-bg);border-left:4px solid var(--btn-bg);padding:15px 20px;margin:20px 0;font-style:italic;color:var(--text-secondary);border-radius:0 8px 8px 0}.quote-block b{color:var(--text-color);font-style:normal}@media screen and (max-width:768px){.md-table{font-size:9pt;display:block;overflow-x:auto}.md-table td,.md-table th{padding:8px 10px;white-space:nowrap}.code-block{padding:12px 15px;font-size:9pt}.quote-block{padding:12px 15px}}details{background:var(--abstract-bg);border:1px solid var(--border-color);border-radius:8px;margin:20px 0;overflow:hidden;transition:.3s}details[open]{box-shadow:0 4px 15px var(--shadow-color)}details summary{padding:15px 20px;cursor:pointer;font-weight:700;font-size:11pt;color:var(--text-color);background:var(--abstract-bg);border-bottom:1px solid transparent;transition:.3s;list-style:none;display:flex;align-items:center;gap:10px}details summary::-webkit-details-marker{display:none}details summary::before{content:"â–¶";font-size:10px;transition:transform .3s;color:var(--btn-bg)}details[open] summary::before{transform:rotate(90deg)}details[open] summary{border-bottom:1px solid var(--border-color);background:var(--highlight-bg)}details summary:hover{background:var(--highlight-bg)}details .details-content{padding:20px;animation:.3s slideDown}@keyframes slideDown{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}details .md-table{margin:10px 0;font-size:9.5pt}details .md-table td,details .md-table th{padding:10px 12px}details .md-table td:nth-child(2){white-space:nowrap;min-width:80px}@media screen and (max-width:768px){details summary{padding:12px 15px;font-size:10pt}details .details-content{padding:15px}}.chat-details{background:0 0;border:none;margin:25px 0}.chat-details summary{background:linear-gradient(135deg,#5865f2 0,#4752c4 100%);color:#fff;padding:15px 20px;border-radius:10px;cursor:pointer;font-weight:700;font-size:11pt;transition:.3s;box-shadow:0 4px 15px rgba(88,101,242,.3)}.chat-details summary:hover{background:linear-gradient(135deg,#4752c4 0,#3c45a5 100%);transform:translateY(-2px);box-shadow:0 6px 20px rgba(88,101,242,.4)}.chat-details summary::before{content:"ðŸ’¬";margin-right:8px}.chat-details[open] summary{border-radius:10px 10px 0 0;background:linear-gradient(135deg,#4752c4 0,#3c45a5 100%)}.chat-log{background:linear-gradient(180deg,#36393f 0,#2f3136 100%);border-radius:0 0 12px 12px;padding:0;font-family:Whitney,'Helvetica Neue',Helvetica,Arial,sans-serif;font-size:10pt;color:#dcddde;box-shadow:0 4px 20px rgba(0,0,0,.3);border:1px solid #202225;border-top:none;overflow:hidden}.chat-header{background:#202225;padding:15px 20px;border-bottom:1px solid #40444b}.chat-meta{font-size:9pt;color:#72767d;margin-bottom:4px}.chat-meta:last-child{margin-bottom:0}.chat-message{display:flex;align-items:flex-start;padding:12px 20px;transition:background .1s}.chat-message:hover{background:rgba(4,4,5,.07)}.chat-avatar{width:40px;height:40px;border-radius:50%;margin-right:15px;flex-shrink:0;background:#5865f2;object-fit:cover}.chat-message[data-user=kaze] .chat-avatar,.chat-message[data-user=maboroshi22] .chat-avatar,.chat-message[data-user=yoyo2007] .chat-avatar{background:linear-gradient(135deg,#ffc6d5 0,#ff9cbf 100%)}.chat-content{flex:1;min-width:0}.chat-username{font-weight:600;font-size:10pt;margin-bottom:4px;display:flex;align-items:baseline;gap:8px}.chat-username.gradient-name{background:var(--gradient);background-size:200% 100%;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;animation:3s ease-in-out infinite gradientFlow}@keyframes gradientFlow{0%,100%{background-position:0 50%}50%{background-position:100% 50%}}.chat-time{font-size:8pt;color:#72767d;font-weight:400}.chat-text{color:#dcddde;line-height:1.4;word-wrap:break-word}.highlight-message{background:rgba(250,166,26,.1);border-left:3px solid #faa61a}.highlight-message .chat-text{color:#faa61a}.chat-log .joke-highlight{background:#faa61a;color:#36393f;padding:2px 6px;border-radius:3px}.chat-log .roast-text{background:linear-gradient(135deg,#3ba55c 0,#2d7d46 100%);color:#fff;border-bottom-color:#2d7d46}.chat-log .roast-text:hover{background:#2d7d46}@media screen and (max-width:768px){.chat-details summary{padding:12px 15px;font-size:10pt}.chat-log{font-size:9pt}.chat-message{padding:10px 15px}.chat-avatar{width:32px;height:32px;margin-right:10px}.chat-username{font-size:9pt}.chat-time{font-size:7pt}.chat-header{padding:12px 15px}}.toc-details{background:var(--paper-bg);border:1px solid var(--border-color);margin:50px 0;overflow:hidden;page-break-inside:avoid;box-shadow:0 2px 12px var(--shadow-color);position:relative}.toc-details::after,.toc-details::before{content:'';position:absolute;left:50%;transform:translateX(-50%);width:60%;height:1px;background:linear-gradient(90deg,transparent,var(--border-color),transparent)}.toc-details::before{top:0}.toc-details::after{bottom:0}.toc-details summary{background:var(--paper-bg);color:var(--text-color);padding:25px 30px;cursor:pointer;font-weight:700;font-size:16pt;text-align:center;letter-spacing:1em;border-bottom:1px solid var(--border-color);transition:.3s;list-style:none;position:relative}.toc-details summary::-webkit-details-marker{display:none}.toc-details summary::before{content:none}.toc-details summary::after{content:'â—†';display:block;font-size:8pt;letter-spacing:.5em;color:var(--border-color);margin-top:8px}.toc-details summary:hover{background:var(--abstract-bg)}.toc-details[open] summary{border-bottom:1px solid var(--border-color)}.toc-nav{display:flex;flex-direction:column;padding:30px 50px;gap:0;max-height:500px;overflow-y:auto;counter-reset:toc-counter}.toc-link{color:var(--text-color);text-decoration:none;padding:12px 15px;font-size:11pt;transition:.3s cubic-bezier(.4, 0, .2, 1);border-bottom:1px dotted var(--border-color);display:flex;justify-content:space-between;align-items:baseline;position:relative;background:0 0}.toc-link:last-child{border-bottom:none}.toc-link::before{content:'';position:absolute;left:0;top:50%;transform:translateY(-50%) scaleY(0);width:3px;height:60%;background:var(--btn-bg);transition:transform .3s cubic-bezier(.4, 0, .2, 1);border-radius:2px}.toc-link:hover::before{transform:translateY(-50%) scaleY(1)}.toc-link:hover{color:var(--btn-hover);background:var(--abstract-bg);padding-left:20px}.toc-link:active{transform:scale(.98);background:var(--highlight-bg)}.toc-link.toc-sub{padding-left:40px;font-size:10pt;color:var(--text-secondary);border-bottom:1px dotted transparent;border-left:1px solid var(--border-color);margin-left:20px}.toc-link.toc-sub::before{left:-1px;width:2px}.toc-link.toc-sub:hover{padding-left:50px;color:var(--btn-hover);border-left-color:var(--btn-bg)}.toc-nav::-webkit-scrollbar{width:6px}.toc-nav::-webkit-scrollbar-track{background:0 0}.toc-nav::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.toc-nav::-webkit-scrollbar-thumb:hover{background:var(--btn-bg)}@keyframes targetHighlight{0%{background:var(--highlight-bg);box-shadow:0 0 0 4px var(--highlight-bg)}100%{background:0 0;box-shadow:0 0 0 0 transparent}}.toc-target-highlight{animation:1.5s ease-out targetHighlight}.toc-chapter{border-bottom:1px dotted var(--border-color)}.toc-chapter:last-child{border-bottom:none}.toc-chapter-header{display:flex;align-items:center;gap:8px}.toc-chapter-header .toc-link{flex:1;border-bottom:none}.toc-toggle{background:0 0;border:none;color:var(--text-hint);cursor:pointer;padding:8px 12px;font-size:10px;transition:.3s;border-radius:4px}.toc-toggle:hover{background:var(--abstract-bg);color:var(--btn-hover)}.toc-toggle.collapsed{transform:rotate(-90deg)}.toc-subitems{display:flex;flex-direction:column;overflow:hidden;max-height:500px;transition:max-height .4s cubic-bezier(.4, 0, .2, 1),opacity .3s,padding .3s;opacity:1;padding-left:15px;border-left:2px solid var(--border-color);margin-left:15px;margin-bottom:10px}.toc-subitems.collapsed{max-height:0;opacity:0;padding-top:0;padding-bottom:0;margin-bottom:0}.toc-subitems .toc-link.toc-sub{margin-left:0;border-left:none;padding-left:15px}.toc-subitems .toc-link.toc-sub:hover{padding-left:25px}@media screen and (max-width:768px){.toc-details{margin:30px 0}.toc-details summary{padding:18px 20px;font-size:14pt;letter-spacing:.5em}.toc-nav{max-height:350px;padding:20px 25px}.toc-link{font-size:10pt;padding:10px 12px}.toc-link.toc-sub{padding-left:30px;margin-left:15px}}.md-figure{margin:20px auto;text-align:center;max-width:100%}.md-figure img{max-width:100%;height:auto;border-radius:8px;box-shadow:0 4px 15px var(--shadow-color);transition:transform .3s,box-shadow .3s;cursor:zoom-in}.md-figure img:hover{transform:scale(1.02);box-shadow:0 8px 25px var(--shadow-color)}.md-figure figcaption{margin-top:10px;font-size:9pt;color:var(--text-hint);font-style:italic}.lightbox-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);backdrop-filter:blur(8px);-webkit-backdrop-filter:blur(8px);z-index:10001;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s;cursor:zoom-out}.lightbox-overlay.show{opacity:1;visibility:visible}.lightbox-content{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(.8);max-width:90vw;max-height:90vh;z-index:10002;opacity:0;transition:transform .3s cubic-bezier(.34, 1.56, .64, 1),opacity .3s}.lightbox-overlay.show .lightbox-content{transform:translate(-50%,-50%) scale(1);opacity:1}.lightbox-content img{max-width:90vw;max-height:85vh;border-radius:12px;box-shadow:0 20px 60px rgba(0,0,0,.4)}.lightbox-caption{text-align:center;color:#fff;margin-top:15px;font-size:11pt;text-shadow:0 2px 4px rgba(0,0,0,.5)}.lightbox-close{position:fixed;top:20px;right:20px;width:40px;height:40px;background:rgba(255,255,255,.2);border:none;border-radius:50%;color:#fff;font-size:24px;cursor:pointer;z-index:10003;transition:background .2s,transform .2s;display:flex;align-items:center;justify-content:center}.lightbox-close:hover{background:rgba(255,255,255,.3);transform:scale(1.1)}@media screen and (max-width:768px){.md-figure{margin:15px auto}.md-figure img{border-radius:6px}.md-figure figcaption{font-size:8pt}.lightbox-close{top:15px;right:15px;width:35px;height:35px;font-size:20px}}